"use strict";const n=require("electron"),i=require("node:path"),r=require("node:fs/promises");process.env.DIST=i.join(__dirname,"../dist");process.env.PUBLIC=n.app.isPackaged?process.env.DIST:i.join(process.env.DIST,"../public");let e;const s=process.env.VITE_DEV_SERVER_URL;function c(){e=new n.BrowserWindow({icon:i.join(process.env.PUBLIC,"electron-vite.svg"),webPreferences:{preload:i.join(__dirname,"preload.js")}}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),s?e.loadURL(s):e.loadFile(i.join(process.env.DIST,"index.html"))}n.app.on("window-all-closed",()=>{e=null});n.app.whenReady().then(()=>{n.ipcMain.handle("readFile",l),n.ipcMain.handle("writeFiles",d),c()});function l(t,o){return r.readFile(o)}function d(t,o,a){return r.writeFile(o,a)}
